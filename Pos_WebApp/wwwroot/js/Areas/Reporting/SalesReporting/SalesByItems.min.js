function ApplySelect2(){$(".select").select2()}function GenerateReport(){$("#TopSalesFilter").val()===""&&$("#ItemIds").val($("#item-ids-select").val().toString());$("#WaiterId").val()!==""&&$("#WaiterName").val($("#WaiterId option:selected").text());$.ajax({url:"/SalesReporting/SalesReportByItems",type:"POST",data:$("form").serialize(),headers:{RequestVerificationToken:$('input:hidden[name="__RequestVerificationToken"]').val()},success:function(n){var t=n.model,r=$("#sales-report-table").DataTable(),u,f,e,o,i,s;if(r.clear().draw(),$("#sales-report-table > thead > tr#waiter-row").remove(),t.waiterId&&$("#sales-report-table > thead").prepend(`<tr id="waiter-row"><th colspan="2">Waiter:&nbsp; ${t.waiterName}</th></tr>`),t.reportQuantityValue?$(".th-value-type").html("Items Quantity"):$(".th-value-type").html("Sales Amount"),n.responseCode===CODES.RESPONSE_CODE_OK||n.responseCode===CODES.RESPONSE_CODE_NOTFOUND){if(u="",t.dateGroupByFilter!=null)for(t.dateGroupByFilter.toLowerCase()==="day"?u=t.reportQuantityValue?t.reportTitle?t.reportTitle:"Sold Quantity Report By Days":t.reportTitle?t.reportTitle:"Sale Report By Days":t.dateGroupByFilter.toLowerCase()=="month"?u=t.reportQuantityValue?t.reportTitle?t.reportTitle:"Sold Quantity Monthly Report":t.reportTitle?t.reportTitle:"Sale Monthly Report":t.dateGroupByFilter.toLowerCase()=="year"&&(u=t.reportQuantityValue?t.reportTitle?t.reportTitle:"Sold Quantity Yearly Report":t.reportTitle?t.reportTitle:"Sale Yearly Report"),$("title").html(`${u} &nbsp;&nbsp; From: ${$("#StartDate").val()} to ${$("#EndDate").val()}`),f=0;f<t.salesDataList.length;f++){for(e=0,o=0;o<t.salesDataList[f].length;o++)i=t.salesDataList[f][o],o==0&&(s=r.row.add([i.itemName,null]).draw(!1).nodes().to$().addClass("itemNameRow")),t.reportQuantityValue?(e+=parseFloat(i.totalQuantityRounded),r.row.add([i.formattedDate,i.totalQuantityRounded]).draw(!1)):(e+=parseFloat(i.totalSalesRounded),r.row.add([i.formattedDate,i.totalSalesRounded]).draw(!1));r.row.add(["Total",parseFloat(e).toNDecimalPlaces(2)]).draw(!1).nodes().to$().addClass("totalRow");e=0;r.row.add(["",""]).draw(!1)}$("#sales-report-table-container").show();RenderSalesReportGraph(t,"sales-report",n)}else sweetAlert.error({text:"An error Occured while generating report."})},error:function(){sweetAlert.error({text:"An error Occured while generating report."})}})}$(document).ready(function(){ApplySelect2();$("#TopSalesFilter").bind("change",function(n){n.target.value!=""?($("#item-ids-select").val([]).change(),$("#item-ids-select").attr("disabled","disabled")):($("#item-ids-select").removeAttr("disabled"),$(".select").select2())})});