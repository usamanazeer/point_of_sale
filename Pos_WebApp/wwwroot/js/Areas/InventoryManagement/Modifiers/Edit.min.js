function getSubItemRow(n){$.ajax({url:"/Modifiers/GetAddModifier_ItemsRow?rowNo="+n,type:"GET",success:function(n){$("#subitems-table tbody tr:last").after(n);$(".select").select2()},error:function(){}})}function AddRow(){$("#btn-add-subitems-row").attr("disabled","disabled");var n=parseInt($("#subitems-table tbody tr:last")[0].getAttribute("data-row-no"))+1;getSubItemRow(n);setTimeout(function(){$("#btn-add-subitems-row").removeAttr("disabled")},300)}function RemoveRow(n){var i="table#subitems-table tbody tr.row-no-"+n+" ",t;$("table#subitems-table tbody tr").length>1&&($(i+" td .row-status").val(STATUSES.DELETED),t=$(i).clone(),$(t).removeClass("row-no-"+n),$(t).addClass("del-row-no-"+n),$("#deleted-rows-table tbody tr:last").after(t),$(i).remove())}function CalculateSubItems_Total(n){var t=0,i=parseFloat($(`#InvModifierItems_${n}__Quantity`).val()),r=parseFloat($(`#InvModifierItems_${n}__SalesRate`).val());t=i*r;$(`#InvModifierItems_${n}__Total`).val(t)}function ItemBarCodeSelect_OnChange(n){if(flag){var t=$("#InvModifierItems_"+n+"__BarCodeId option:selected")[0].getAttribute("data-ItemId");$("#InvModifierItems_"+n+"__ItemId").val(t);flag=!1;$("#InvModifierItems_"+n+"__ItemId").trigger("change.select2");flag=!0}}function ItemSelect_OnChange(n){var r=$("#InvModifierItems_"+n+"__ItemId option:selected")[0].getAttribute("data-purchaseRate"),u=$("#InvModifierItems_"+n+"__ItemId option:selected")[0].getAttribute("data-itemMeasurement"),f=$("#InvModifierItems_"+n+"__ItemId option:selected")[0].getAttribute("data-itemUnit"),t,i;$("#InvModifierItems_"+n+"__Measurement").val(u+" "+f);$("#InvModifierItems_"+n+"__SalesRate").val(r);CalculateSubItems_Total(n);flag&&(t=$("#InvModifierItems_"+n+"__ItemId option:selected")[0].getAttribute("data-ItemBrCode"),t!=null&&(t=t.trim()),flag=!1,t!=""?(i=$("#InvModifierItems_"+n+"__BarCodeId option:contains("+t+")").val(),$("#InvModifierItems_"+n+"__BarCodeId").val(i),$("#InvModifierItems_"+n+"__BarCodeId").trigger("change.select2")):($("#InvModifierItems_"+n+"__BarCodeId").val(""),$("#InvModifierItems_"+n+"__BarCodeId").trigger("change.select2")),flag=!0)}bindSubmit("edit-modifier-form","btn-edit-modifier","/Modifiers/Edit");var flag=!0;$(document).ready(function(){var t,n;for($(".select").select2(),t=$("table#subitems-table tbody tr").length,n=0;n<t;n++){var i=$("#InvModifierItems_"+n+"__ItemId option:selected")[0].getAttribute("data-purchaseRate"),r=$("#InvModifierItems_"+n+"__ItemId option:selected")[0].getAttribute("data-itemMeasurement"),u=$("#InvModifierItems_"+n+"__ItemId option:selected")[0].getAttribute("data-itemUnit");$("#InvModifierItems_"+n+"__Measurement").val(r+" "+u);$("#InvModifierItems_"+n+"__SalesRate").val(i);CalculateSubItems_Total(n)}});