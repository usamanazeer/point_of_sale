@model InvItemDto
@{
    ViewData["Title"] = "Item - Details";
    Model.InvItemModifiers ??= new List<InvItemModifierDto>();
}

@section Styles{
}
@section Scripts{
    <script src="~/app-assets/js/components-modal.min.js" type="text/javascript"></script>
}
<section id="about">
    <div class="row">
        <div class="col-12">
            <div class="content-header">Item Details</div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <div class="card">
                <div class="card-header">
                    @*<h5>Category Details</h5>*@
                </div>
                <div class="card profile-with-cover">

                    <div class="media profil-cover-details row">
                        <div class="col-5">
                            <div class="align-self-start halfway-fab pl-3 pt-2">
                                <div class="text-left">

                                </div>
                            </div>
                        </div>
                        <div class="col-2">
                            <div class="align-self-center halfway-fab text-center">
                                <a class="profile-image">
                                    <img src="@Model.ImageUrl" class="rounded-circle img-border gradient-summer width-100 height-100" alt="Card image">
                                </a>
                            </div>
                        </div>
                        <div class="col-5">
                        </div>

                    </div>
                    <div class="profile-section">
                        <div class="row">
                            <div class="col-lg-5 col-md-5 ">
                                <ul class="profile-menu no-list-style">
                                </ul>
                            </div>
                            <div class="col-lg-2 col-md-2 text-center">
                                <span class="font-medium-2 text-uppercase">@Model.Name </span>
                                <p class="grey font-small-2">
                                    @if (Model.Category != null)
                                    {
                                        <span>@Model.Category.CategoryName</span>
                                    }
                                    @if (Model.SubCategory != null)
                                    {
                                        <span>/@Model.SubCategory.SubCategoryName</span>
                                    }
                                </p>
                            </div>
                            <div class="col-lg-5 col-md-5">
                                <ul class="profile-menu no-list-style">
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-content" style="padding-top:0px;">
                    <div class="card-body" style="padding-top:0px;">
                        <hr>
                        <div class="row">
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a> Item Code:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">@Model.ItemCode</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a> Name:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">@Model.Name</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a> Detailed Name:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">@Model.FullName</span>
                                    </li>
                                </ul>
                            </div>

                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a> Bar Code:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">
                                            @Model.ItemBarCode&nbsp;
                                            @if (Model.ItemBarCode != null)
                                            {
                                                <span class="blue font-small-1" style="cursor:pointer;text-decoration:underline;" data-toggle="modal" data-target="#barcode-list-modal"> View All BarCodes</span>
                                            }
                                        </span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Allow Back Order:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">@Model.ManageStockText</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Display On POS:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">@Model.DisplayOnPosText</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a> Status:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">@Model.StatusText</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Purchase Rate:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">@Model.PurchaseRate</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Sales Rate:</a></span>@*<span class="red font-small-1">(Exc Tax & Discount)</span>*@
                                        <span class="d-block overflow-hidden">@Model.SalesRate</span>
                                    </li>
                                </ul>
                            </div>
                            @*<div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Discount Amount:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">
                                            @if (@Model.DiscountAmount != null)
                                            {
                                                <span>@Model.DiscountAmount</span>
                                                if (Model.IsDiscountInPercent)
                                                {<span>%</span>}
                                            }
                                        </span>
                                    </li>
                                </ul>
                            </div>*@
                            @*<div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Tax:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">
                                            @if (@Model.Tax != null)
                                            {
                                                <span>@Model.Tax.Name</span> <span>(@Model.Tax.AmountText)</span>
                                            }
                                        </span>
                                    </li>
                                </ul>
                            </div>*@
                            @*<div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Sales Rate:</a>&nbsp;</span>&nbsp;<span class="red font-small-1">(Inc Tax & Discount)</span>
                                        <span class="d-block overflow-hidden">@Model.FinalSalesRate</span>
                                    </li>
                                </ul>
                            </div>*@
                        </div>
                        <h4 class="form-section"><i class="fa fa-plus"></i> Item Attributes</h4>
                        <div class="row">
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a> Cataegory:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">
                                            @if (Model.Category != null)
                                            {
                                                <span>@Model.Category.CategoryName</span>
                                            }
                                        </span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Sub-Cataegory:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">
                                            @if (Model.SubCategory != null)
                                            {
                                                <span>@Model.SubCategory.SubCategoryName</span>
                                            }
                                        </span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Minimum Quantity:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">@Model.MinimumQuantity</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a> Brand:</a>&nbsp;</span>
                                        @if (@Model.Brand != null)
                                        {
                                            <span class="d-block overflow-hidden">@Model.Brand.Name</span>
                                        }

                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Color:</a>&nbsp;</span>
                                        @if (@Model.Color != null)
                                        {
                                            <span class="d-block overflow-hidden">@Model.Color.Name</span>
                                        }
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Size:</a>&nbsp;</span>
                                        @if (@Model.Size != null)
                                        {
                                            <span class="d-block overflow-hidden">@Model.Size.Name </span>
                                        }
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Is Deal:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">@Model.IsDealText </span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Is Raw Item:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">@Model.IsRawItemText </span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <ul class="no-list-style">
                                    <li class="mb-2 pb-3">
                                        <span class="text-bold-500 primary"><a>Is Returnable:</a>&nbsp;</span>
                                        <span class="d-block overflow-hidden">@Model.IsReturnableText</span>
                                    </li>
                                </ul>
                            </div>
                            @*<div class="col-12 col-md-6 col-lg-4">
                            <ul class="no-list-style">
                                <li class="mb-2 pb-3">
                                    <span class="text-bold-500 primary"><a>Allow Back Order:</a>&nbsp;</span>
                                    <span class="d-block overflow-hidden">@Model.AllowBackOrderText </span>
                                </li>
                            </ul>
                        </div>*@
                        </div>
                        @if (Model.IsRecipe || Model.IsDeal)
                        {
                            <h4 class="form-section"><i class="fa fa-plus"></i> @(Model.IsDeal == true ? "Deal Items": "Item Recipe")</h4>
                            <div class="card-body card-dashboard table-responsive">
                                <div class="row">
                                    <table class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Barcode</th>
                                                <th>Quantity</th>
                                                <th>Unit Amount</th>
                                                <th>Total Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in Model.InvItemRecipeChild)
                                            {
                                                <tr>
                                                    <td>@item.Item.FullName</td>
                                                    <td>@(item.BarCode== null? "": item.BarCode.BarCode)</td>
                                                    <td>@item.Quantity</td>
                                                    <td>@item.Item.PurchaseRate</td>
                                                    <td>@(item.Item.PurchaseRate * item.Quantity)</td>
                                                </tr>
                                            }
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Name</th>
                                                <th>Barcode</th>
                                                <th>Quantity</th>
                                                <th>Unit Amount</th>
                                                <th>Total Amount</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>

                        }
                        @if (Model.InvItemModifiers.Any())
                        {
                            <h4 class="form-section"><i class="fa fa-plus"></i> Item Modifiers</h4>
                            <div class="card-body card-dashboard table-responsive">
                                <div class="row">
                                    <table class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Quantity</th>
                                                <th>Is Mandatory</th>
                                                <th>Modifier Charges</th>
                                                <th>Total</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var modifier in Model.InvItemModifiers)
                                            {
                                                <tr>
                                                    <td>@modifier.Modifier.Name</td>
                                                    <td>@modifier.Quantity</td>
                                                    <td>@modifier.IsMandatoryText</td>
                                                    <td>@modifier.Modifier.ModifierCharges</td>
                                                    <td>@(modifier.Modifier.ModifierCharges * modifier.Quantity)</td>
                                                </tr>

                                            }
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Name</th>
                                                <th>Quantity</th>
                                                <th>Is Mandatory</th>
                                                <th>Modifier Charges</th>
                                                <th>Total</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>

                        }
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade text-left" id="barcode-list-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel19"
         aria-hidden="true">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel19">Item BarCodes</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h5>Active BarCode</h5>
                    <p class="pl-2 text-bold-600">
                        @Model.ItemBarCode
                    </p>
                    <hr>
                    <h5>All BarCodes</h5>
                    <p>
                        <ul>
                            @foreach (var item in Model.InvItemBarCode)
                            {
                                <li>@item.BarCode</li>
                            }

                        </ul>
                    </p>
                </div>
                <div class="modal-footer">
                    @*<button type="button" class="btn grey btn-outline-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-outline-primary">Save changes</button>*@
                </div>
            </div>
        </div>
    </div>
</section>
<!--About section ends-->